server {
	listen 8080;
	host 127.0.0.1;
	server_name example.com;
	client_max_body_size 10485760;  # 10MB in Bytes

	error_page 404 /errors/404.html;
	error_page 500 /errors/500.html;
	error_page 403 /errors/403.html;

	# Basic file serving
	location / {
		root /var/www/html;
		index index.html;
		allow_methods GET POST;
		autoindex on;
	}

	# Static images directory
	location /images {
		root /var/www/images;
		allow_methods GET;
		autoindex off;
	}

	# File uploads
	location /upload {
		root /var/www/uploads;
		allow_methods POST;
		upload_dir /tmp/uploads;
		client_max_body_size 20971520;  # 20MB in Bytes
	}

	# PHP handling
	location *.php {
		root /var/www/php;
		cgi_extension php;
		allow_methods GET POST;
	}

	# Redirection example
	location /old {
		redirect /new;
	}
}

# Secondary server on different port
server {
	listen 8081;
	host 127.0.0;
	server_name test.local;
	client_max_body_size 1048576;  # 1MB in Bytes

	location / {
		root /var/www/test;
		index main.html;
		allow_methods GET;
		autoindex off;
	}
}

# Server with multiple ports
server {
	# listen 8082;
	listen 8083;
	# host 127.0.0.1;
	server_name multi.local;
	server_name multi.nolocal;

	location / {
		root /var/www/multi;
		allow_methods GET POST DELETE;
		index index.html;
		autoindex on;
	}
}